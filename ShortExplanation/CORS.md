### CORS

CORS(Cross-Origin Resource Sharing) : 교차 출처 리소스 공유

<br>

웹 내에서 데이터를 주고 받을 때 다른 출처(domain, port, protocol 등)에서 정보를 받으려 하면 교차 출처 HTTP를 요청한다.   
예전 웹 환경에서는 같은 출처에서만 정보를 주고 받았고(서버와 클라이언트만 연결하면 됐음) 오히려 다른 출처로 접근하면 해킹으로 간주했다.   
그래서 보안 상 출처가 다르면 request를 거부했다.    
하지만 API 같이 다른 출처를 이용해 데이터를 끌어 오는 에플리케이션 개발이 많아지면서 엑세스 허용 방법이 필요했고, 이에 나온 게 CORS다.   

<br>

CORS는 클라이언트와 서버 사이에서 두 번의 서버 요청이 들어간다.   
처음에는 OPTION을 이용해서 접근이 가능한지 확인하고, 그 다음 GET/POST를 통해 정식 request를 보내고 response를 받는다.   
이 과정에서 header 안에 CORS 허용 관련 내용이 담겨져 있어야 원할하게 연결이 가능하다.   
CORS를 담기 위해선 `XMLHttpRequest` 혹은 `Fetch`를 사용할 수 있다.   
서버 측에서 CORS를 다룰 땐 PHP 코드도 많이 사용하는 듯 하다.   

<br>

주의할 점은, Access-Control-Allow-Origin : *으로 설정이 가능한데, *는 모든 엑세스를 허용한다는 의미라서 위험한 엑세스까지 허용할 가능성이 있다.   
따라서 되도록이면 엑세스하려는 다른 출처의 url을 명시해서 해당 url의 정보만 받아오도록 하는 게 선호된다.   

<br>

CORS를 가능케 하려면 톰캣 같은 WAS 폴더 내에 XML 파일에서 CORS 설정을 적어주거나, 이미 적혀 있는 상태고 주석 처리 되어 있다면 해제 시키면 된다.
